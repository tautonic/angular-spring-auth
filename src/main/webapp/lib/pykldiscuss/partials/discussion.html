<!--<div ng-switch on="pageType" ng-show="isLoaded">
    <div ng-switch-when="single">
        <h1 ng-show="hasContent">{{discussion.title}}</h1>
        <div class="post">
            <div class="user">
                <p><a ng-href="#/profile/{{discussion.creator._id}}">{{discussion.creator.username}}</a></p>
                <img ng-src="{{discussion.creator.thumbnail}}">
            </div>
            <p class="content" ng-bind-html="discussion.message" ng-show="!discussion.edit">{{discussion.message}}</p>
            <div class="content" ng-show="discussion.edit">
                <form ng-submit="editPost(discussion)">
                    <textarea style="width: 100%; height: 50px;" ng-model="discussion.edited" ui-tinymce></textarea>
                    <input type="submit" value="Save">
                    <input type="button" ng-click="cancelEdit(discussion)" value="Cancel">
                </form>
            </div>
            <div class="buttons clear"><button ng-click="replyTo()">Reply</button><button ng-click="replyTo(discussion.message)">Quote</button><button ng-click="edit(discussion)" ng-show="canEdit(discussion)">Edit</button></div>
        </div>

        <div class="post threaded" ng-repeat="post in discussion.children">
            <div class="user">
                <p><a ng-href="#/profile/{{post.creator._id}}">{{post.creator.username}}</a></p>
                <img ng-src="{{post.creator.thumbnail}}">
            </div>
            <p class="content" ng-bind-html="post.message" ng-show="!post.edit">{{post.message}}</p>
            <div class="content" ng-show="post.edit">
                <form ng-submit="editPost(post)">
                    <textarea rows="10" ng-model="post.edited" ui-tinymce></textarea>
                    <input type="submit" value="Save">
                    <input type="button" ng-click="cancelEdit(post)" value="Cancel">
                </form>
            </div>
            <div class="buttons clear"><button ng-click="replyTo()">Reply</button><button ng-click="replyTo(post.message)">Quote</button><button ng-click="edit(post)" ng-show="canEdit(post)">Edit</button></div>

        </div>
        <button ng-click="replyTo()">Reply</button>

        <div class="reply" ng-show="reply.show">
            <form name="replyForm" ng-submit="submitReply()">
                <p>{{enterReply}}:</p>
                <textarea rows="10" cols="100" ng-model="reply.message" required ui-tinymce>
                </textarea>
                <br>
                <input type="submit" value="Reply">
                <input type="button" ng-click="cancel()" value="Cancel">
            </form>
        </div>
    </div>

    <div ng-switch-when="new">
        <div class="reply" ng-show="auth.isAuthenticated">
            <form name="newDiscussionForm" ng-submit="createDiscussion()">
                <div ng-show="hasContent">
                    Discussion Title: <input type="text" ng-model="reply.title">
                    <p>Words go here:</p>
                </div>
                <textarea rows="10" cols="100" ng-model="reply.message" required ui-tinymce>
                </textarea>
                <br>
                <input type="submit" value="Start New Discussion">
                <div ng-show="hasContent">
                    <input type="button" ng-click="cancel()" value="Cancel">
                </div>
            </form>
        </div>
        <div ng-show="!auth.isAuthenticated">
            Login or <a ng-href="#/profile">register</a> to start a discussion.
        </div>
    </div>

    <div ng-switch-when="none"></div>

    <div ng-switch-default>
        <div class="category-sort">
            <h2>Categories</h2>
            <hr>
            <a ng-click="byType('video')">Video</a><br>
            <a ng-click="byType('articles')">Article</a><br>
            <a ng-click="byType('picture')">Picture</a>
            <hr>
            <a ng-click="byCategory('job')">Jobs</a><br>
            <a ng-click="byCategory('job')">Lorem</a><br>
            <a ng-click="byCategory('job')">Ipsum</a><br>
            <a ng-click="byCategory('job')">Dolar</a><br>
            <a ng-click="byCategory('job')">Simar</a><br>
            <a ng-click="byCategory('job')">Est</a>
        </div>
        <div id="top-content">
            <h2>Top Content</h2>
            <hr>
            <ul class="article-list">
                <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec aliquet ultricies feugiat. Aenean varius turpis ut nibh imperdiet vehicula. Phasellus sit amet adipiscing enim. Sed sit amet nisl lacus.</li>
                <li>Nunc auctor lectus laoreet ipsum fringilla sit amet vehicula mauris posuere. Phasellus eu velit eu leo fringilla ullamcorper.</li>
            </ul>
        </div>
        <div id="latest-content">
            <h2>Latest Content</h2>
            <hr>
            <div ng-show="auth.isAuthenticated">
                <a ng-href="#/network/new">Start new discussion</a>
            </div>
            <ul class="discussions">
                <li class="discussion-thread" ng-repeat="thread in discussion">
                    <a ng-href="#/network/{{thread.threadId}}">{{thread.title}}</a>
                    <div class="started-by">Started by: <a ng-href="#/profile/{{thread.creator._id}}">{{thread.creator.username}}</a></div>
                </li>
            </ul>
            <div ng-show="noDiscussions()">
                No discussions started.
            </div>
        </div>

    </div>

</div>

<div ng-show="!isLoaded">Loading discussion....</div>-->

<div id="discussions" class="container">
    <div class="row">
        <div class="span8">
            <div ng-repeat="post in discussion">
                <div class="discussion-stack-container">
                    <div discussion-stack comments={{post.commentCount}} class="discussion-item grey-gradient">
                        <a ng-href="#/network/{{post._id}}"><h4>{{post.title}}</h4></a>
                        <h6>By <a ng-href="#/profiles/view/{{post.creator._id}}">{{post.creator.username}}</a>, {{post.dateCreated | asDate: 'fullDate'}}</h6>
                        <p class="muted" ng-show="hasLinkedObject()"><strong>Document:</strong> <a href="#/content/{{post.linkedItem._id}}">{{post.linkedItem.title}}</a></p>
                        <ul class="article-stats">
                            <li class="muted"><i class="likes"></i> {{post.likes}} Likes</li>
                            <li class="muted"><i class="views"></i> {{post.views}} Views</li>
                            <li class="muted"><i class="comments"></i> {{post.commentCount}} Comments</li>
                            <li ng-click="flag({{post._id}})" class="muted"><i class="flag"></i> Flag for Spam</li>
                        </ul>
                    </div>
                </div>

                <div ng-show="hasLinkedObject(post)">
                    <div class="paper-clip"></div>
                    <div class="attached-doc">
                        <div class="new-picture-frame small content-thumbnail">
                            <img ng-src ="images/document-default.jpg" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="span3 offset1">
            <div class="search-box members">
                <div class="header">
                    <h4>SEARCH DISCUSSIONS</h4>
                </div>
                <div class="form-container">
                    <form ng-controller="searchDiscussionsController" ng-submit="searchDiscussions()">
                        <input type="text" ng-model="query" placeholder="Search Discussions...">
                        <div class="btn-group-border"></div>
                        <div class="search-lens read-more gradient">
                            <div class="preview-lens"></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>