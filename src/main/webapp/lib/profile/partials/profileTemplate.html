<div class="profile clearfix thumbnail" ng-show="isEditMode">
    <form name="editProfile" class="form-horizontal" novalidate>
        <fieldset>
            <legend><h2>{{profile.firstName}} {{profile.lastName}}</h2></legend>
            <div class="control-group">
                <label class="control-label" for="first-name">First Name</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.firstName"
                           class="input-xlarge"
                           id="first-name"
                           name="firstName"
                           value="{{profile.firstName}}" required>
                </div>
                <br>
                <label class="control-label" for="last-name">Last Name</label>
                <div class="controls">
                    <input type="text" ng-model="profile.lastName" class="input-xlarge" id="last-name" name="lastName" value="{{profile.lastName}}" required>
                </div>
                <br>
                <label class="control-label" for="email">Email</label>
                <div class="controls">
                    <input type="email"
                           ng-model="profile.email"
                           ng-change="emailChanged()"
                           class="input-xlarge"
                           id="email"
                           name="email"
                           value="{{profile.email}}" required>
                </div>
                <br>
                <label class="control-label" for="job-title">Job Title</label>
                <div class="controls">
                    <input type="text" ng-model="profile.jobTitle" class="input-xlarge" id="job-title" value="{{profile.jobTitle}}">
                </div>
                <br>
                <label class="control-label" for="employer">Employer</label>
                <div class="controls">
                    <input type="text" ng-model="profile.employer" class="input-xlarge" id="employer" value="{{profile.employer}}">
                </div>
                <br>
                <label class="control-label" for="current-city">Current City</label>
                <div class="controls">
                    <input type="text" ng-model="profile.currentCity" class="input-xlarge" id="current-city" value="{{profile.currentCity}}" required>
                </div>
                <br>
                <label class="control-label" for="current-state">Current State</label>
                <div class="controls">
                    <input type="text" ng-model="profile.currentState" class="input-xlarge" id="current-state" value="{{profile.currentState}}" required>
                </div>
                <br>
                <label class="control-label" for="home-town">Home Town</label>
                <div class="controls">
                    <input type="text" ng-model="profile.homeTown" class="input-xlarge" id="home-town" value="{{profile.homeTown}}">
                </div>
                <br>
                <label class="control-label" for="home-state">Home State</label>
                <div class="controls">
                    <input type="text" ng-model="profile.homeState" class="input-xlarge" id="home-state" value="{{profile.homeState}}">
                </div>
                <br>
                <label class="control-label" for="profile-bio">Bio</label>
                <div class="controls">
                    <textarea class="input-xlarge" ng-model="profile.bio" id="profile-bio" rows="3">{{profile.bio}}</textarea>
                </div>
            </div>
        </fieldset>

        <button class="btn btn-success" ng-click="update(profile)" ng-disabled="editProfile.$invalid || isUnchanged(profile)">
            <i class="icon-pencil icon-white"></i> Update</button>
        <button class="btn btn-warning" ng-click="cancel()"><i class="icon-ban-circle icon-white"></i> Cancel</button>
    </form>

    <pre>form = {{profile | json}}</pre>
    <pre>master = {{master | json}}</pre>
    <hr>
    <tt>editProfile.firstName.$valid = {{editProfile.firstName.$valid}}</tt><br>
    <tt>editProfile.firstName.$error = {{editProfile.firstName.$error}}</tt><br>
    <tt>editProfile.lastName.$valid = {{editProfile.lastName.$valid}}</tt><br>
    <tt>editProfile.lastName.$error = {{editProfile.lastName.$error}}</tt><br>
    <tt>editProfile.$valid = {{editProfile.$valid}}</tt><br>
    <tt>editProfile.$error.required = {{!!editProfile.$error.required}}</tt><br>
    <tt>editProfile.$error.minlength = {{!!editProfile.$error.minlength}}</tt><br>
    <tt>editProfile.$error.maxlength = {{!!editProfile.$error.maxlength}}</tt><br>
</div>

<div class="profile clearfix thumbnail" ng-show="isViewMode">
    <div class="profile-left">
        <img src="http://placehold.it/260x180" alt="">

        <div class="caption">
            <p>{{profile.bio}}</p>
            <p>
                <button class="btn" ng-click="edit(profile)"><i class="icon-edit"></i> Edit</button>
                <button class="btn btn-success" ng-click="create()"><i class="icon-plus icon-white"></i> Create</button>
                <button class="btn btn-danger" ng-click="delete()"><i class="icon-trash icon-white"></i> Delete</button>
            </p>
        </div>

        <div class="alert alert-success" ng-show="wasProfileDeleted">
            <a class="close" data-dismiss="alert" href="#">Ã—</a>
            <h4 class="alert-heading">Success!</h4> You have successfully deleted the profile of {{profile.firstName}} {{profile.lastName}}
        </div>
    </div>

    <div class="profile-right">
        <h6>{{_id}}</h6>
        <h2>{{profile.username}}</h2>
        <h6>Email</h6> {{profile.accountEmail.address}} <br>
        <h6>{{profile.status}} at</h6> {{profile.employer}} <br>
        <h6>Lives in</h6> {{profile.currentCity}}, {{profile.currentState}} <br>
        <h6>Hometown</h6> {{profile.homeTown}}, {{profile.homeState}}
    </div>
</div>

<div class="profile clearfix thumbnail" ng-show="isCreateMode">
    <form name="createProfile" class="form-horizontal" novalidate>
        <fieldset>
            <legend><h2>{{profile.firstName}} {{profile.lastName}}</h2></legend>
            <div class="control-group">
                <label class="control-label" for="first-name">First Name</label>
                <div class="controls">
                    <input type="text" ng-model="profile.firstName"
                           class="input-xlarge" name="firstName" id="first-name"
                           ng-minlength="3" ng-maxlength="10" required>
                </div>
                <br>
                <label class="control-label" for="last-name">Last Name</label>
                <div class="controls">
                    <input type="text" ng-model="profile.lastName" class="input-xlarge" id="last-name" required>
                </div>
                <br>
                <label class="control-label" for="email">Email</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.email"
                           class="input-xlarge"
                           id="email"
                           name="email"
                           required>
                </div>
                <br>
                <label class="control-label" for="job-title">Job Title</label>
                <div class="controls">
                    <input type="text" ng-model="profile.jobTitle" class="input-xlarge" id="job-title">
                </div>
                <br>
                <label class="control-label" for="employer">Employer</label>
                <div class="controls">
                    <input type="text" ng-model="profile.employer" class="input-xlarge" id="employer">
                </div>
                <br>
                <label class="control-label" for="current-city">Current City</label>
                <div class="controls">
                    <input type="text" ng-model="profile.currentCity" class="input-xlarge" id="current-city" required>
                </div>
                <br>
                <label class="control-label" for="current-state">Current State</label>
                <div class="controls">
                    <input type="text" ng-model="profile.currentState" class="input-xlarge" id="current-state" required>
                </div>
                <br>
                <label class="control-label" for="home-town">Home Town</label>
                <div class="controls">
                    <input type="text" ng-model="profile.homeTown" class="input-xlarge" id="home-town">
                </div>
                <br>
                <label class="control-label" for="home-state">Home State</label>
                <div class="controls">
                    <input type="text" ng-model="profile.homeState" class="input-xlarge" id="home-state">
                </div>
                <br>
                <label class="control-label" for="profile-bio">Bio</label>
                <div class="controls">
                    <textarea class="input-xlarge" ng-model="profile.bio" name="bio" id="profile-bio" rows="3" required></textarea>
                </div>
            </div>
        </fieldset>

        <button class="btn btn-success" ng-click="save()" ng-disabled="createProfile.$invalid">
            <i class="icon-folder-open icon-white"></i> Save</button>
        <button class="btn btn-warning" ng-click="cancel()"><i class="icon-ban-circle icon-white"></i> Cancel</button>
    </form>
    <hr>

    <div pykl-upload="{dropTarget:'drop-target'}">
        <img src="http://placehold.it/300x300" id="drop-target" />
    </div>

    <!--<file-upload droptarget="drop-target">
        <img src="http://placehold.it/300x300" id="drop-target" />
    </file-upload>-->

    <div id="container">
        <div id="filelist"></div>
        <!--<br />
        <button class="btn btn-primary" id="pickfiles"><i class="icon-plus icon-white"></i> Add files</button>
        <button class="btn btn-success" id="uploadfiles"><i class="icon-upload icon-white"></i> Upload files</button>-->
        <h3>Drag and Drop a file to upload</h3>
    </div>

    <hr>

    <pre>form = {{createProfile | json}}</pre>
    <tt>createProfile.firstName.$valid = {{createProfile.firstName.$valid}}</tt><br>
    <tt>createProfile.firstName.$error = {{createProfile.firstName.$error}}</tt><br>
    <tt>createProfile.email.$valid = {{createProfile.email.$valid}}</tt><br>
    <tt>createProfile.email.$error = {{createProfile.email.$error}}</tt><br>
    <tt>createProfile.$valid = {{createProfile.$valid}}</tt><br>
</div>