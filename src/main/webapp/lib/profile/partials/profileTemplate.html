<div class="profile clearfix thumbnail" ng-show="isEditMode">
    <form name="editProfile" class="form-horizontal" novalidate>
        <fieldset>
            <legend><h2>{{profile.name.given}} {{profile.name.surname}}</h2> <h6>{{profile._id}}</h6></legend>
            <div class="control-group">
                <h2>Basic</h2>
                <label class="control-label" for="username">Username</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.username"
                           class="input-xlarge"
                           id="username"
                           name="username"
                           value="{{profile.username}}" required>
                </div>
                <br>
                <label class="control-label" for="given-name">First Name</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.name.given"
                           class="input-xlarge"
                           id="given-name"
                           name="given-name"
                           value="{{profile.name.given}}" required>
                </div>
                <br>
                <label class="control-label" for="surname">Last Name</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.name.surname"
                           class="input-xlarge"
                           id="surname"
                           name="surname"
                           value="{{profile.name.surname}}" required>
                </div>
                <br>
                <label class="control-label" for="password">Enter New Password</label>
                <div class="controls">
                    <input type="password"
                           ng-model="profile.newPass"
                           class="input-xlarge"
                           id="new-password"
                           name="new-password"
                           value="">
                </div>
                <br>
                <label class="control-label" for="repeat-password">Repeat New Password</label>
                <div class="controls">
                    <input type="password"
                           ng-model="profile.newPassRepeat"
                           class="input-xlarge"
                           id="repeat-password"
                           name="repeat-password"
                           password-validator="new-password"
                           value="">
                </div>
                <br>

                <h2>Contact</h2>
                <label class="control-label" for="email">Email</label>
                <div class="controls">
                    <input type="email"
                           ng-model="profile.accountEmail.address"
                           ng-change="emailChanged()"
                           class="input-xlarge"
                           id="email"
                           name="address"
                           value="{{profile.accountEmail.address}}" required>
                </div>
                <br>

                <div class="well" ng-repeat="website in profile.websites">
                    <label class="control-label" for="website-title">Website Title</label>
                    <div class="controls">
                        <input type="text"
                               ng-model="website.title"
                               class="input-xlarge"
                               id="website-title"
                               name="website-title"
                               value="{{website.title}}">
                    </div>
                    <br>
                    <label class="control-label" for="website-url">URL</label>
                    <div class="controls">
                        <input type="text"
                               ng-model="website.url"
                               class="input-xlarge"
                               id="website-url"
                               name="website-url"
                               value="{{website.url}}">
                    </div>
                </div>

                <h2>Institution</h2>

                <label class="control-label" for="title">Title</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.workHistory[0].title"
                           class="input-xlarge"
                           id="title"
                           name="title"
                           value="{{profile.workHistory[0].title}}" required>
                </div>
                <br>

                <label class="control-label" for="location">Location</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.workHistory[0].location"
                           class="input-xlarge"
                           id="location"
                           name="location"
                           value="{{profile.workHistory[0].location}}" required>
                </div>
                <br>

                <label class="control-label" for="institution">Institution Name</label>
                <div class="controls">
                    <input type="hidden"
                           ui-select2="selectConfig"
                           id="institution"
                           name="institution"
                           data-placeholder="Select a university">
                </div>
                <br>

                <label class="control-label" for="year-started">Year Started</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.workHistory[0].yearStarted.gregorian"
                           class="input-xlarge"
                           id="year-started"
                           name="year-finished"
                           value="{{profile.workHistory[0].yearStarted.gregorian}}" required>
                </div>
                <br>

                <label class="control-label" for="year-finished">Year Finished</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.workHistory[0].yearFinished.gregorian"
                           class="input-xlarge"
                           id="year-finished"
                           name="year-finished"
                           value="{{profile.workHistory[0].yearFinished.gregorian}}">
                </div>

                <h2>
                    Education
                    <button class="btn btn-success" ng-click="addEdRow()">
                        <i class="icon-plus icon-white"></i> Add</button>
                </h2>

                <div class="well edu-history clearfix" ng-repeat="school in profile.educationHistory">
                    <label class="control-label" for="vitae-institution-name">Institution Name</label>
                    <div class="controls">
                        <input type="text"
                               ng-model="school.schoolName"
                               class="input-xlarge"
                               id="vitae-institution-name"
                               name="vitae-institution-name"
                               value="{{school.schoolName}}" required>
                    </div>
                    <br>

                    <label class="control-label" for="degree">Degree</label>
                    <div class="controls">
                        <input type="text"
                               ng-model="school.degree"
                               class="input-xlarge"
                               id="degree"
                               name="degree"
                               value="{{school.degree}}" required>
                    </div>
                    <br>

                    <label class="control-label" for="field-of-study">Field Of Study</label>
                    <div class="controls">
                        <input type="text"
                               ng-model="school.fieldOfStudy"
                               class="input-xlarge"
                               id="field-of-study"
                               name="field-of-study"
                               value="{{school.fieldOfStudy}}" required>
                    </div>
                    <button class="btn btn-danger remove" ng-click="removeEdRow($index)">
                        <i class="icon-remove icon-white"></i> Remove</button>
                </div>
            </div>
        </fieldset>

        <button class="btn btn-success" ng-click="update(profile)" ng-disabled="editProfile.$invalid || isUnchanged(profile)">
            <i class="icon-pencil icon-white"></i> Update</button>
        <button class="btn btn-warning" ng-click="cancel()"><i class="icon-ban-circle icon-white"></i> Cancel</button>
    </form>

    <!--<pre>form = {{profile | json}}</pre>
    <pre>master = {{master | json}}</pre>
    <hr>
    <tt>editProfile.firstName.$valid = {{editProfile.firstName.$valid}}</tt><br>
    <tt>editProfile.firstName.$error = {{editProfile.firstName.$error}}</tt><br>
    <tt>editProfile.lastName.$valid = {{editProfile.lastName.$valid}}</tt><br>
    <tt>editProfile.lastName.$error = {{editProfile.lastName.$error}}</tt><br>
    <tt>editProfile.$valid = {{editProfile.$valid}}</tt><br>
    <tt>editProfile.$error.required = {{!!editProfile.$error.required}}</tt><br>
    <tt>editProfile.$error.minlength = {{!!editProfile.$error.minlength}}</tt><br>
    <tt>editProfile.$error.maxlength = {{!!editProfile.$error.maxlength}}</tt><br>-->
</div>

<div class="profile clearfix thumbnail" ng-show="isViewMode">
    <div class="profile-left">
        <img src="http://placehold.it/260x180" alt="">

        <div class="caption">
            <!--<p>{{profile.bio}}</p>-->
            <p>
                <button class="btn" ng-click="edit(profile)"><i class="icon-edit"></i> Edit</button>
                <button class="btn btn-success" ng-click="create(profile)"><i class="icon-plus icon-white"></i> Create</button>
                <button class="btn btn-danger" ng-click="delete()"><i class="icon-trash icon-white"></i> Delete</button>
            </p>
        </div>

        <div class="alert alert-success" ng-show="wasProfileDeleted">
            <a class="close" data-dismiss="alert" href="#">×</a>
            <h4 class="alert-heading">Success!</h4> You have successfully deleted the profile of {{profile.firstName}} {{profile.lastName}}
        </div>
    </div>

    <div class="profile-right">
        <h6>{{profile._id}}</h6>
        <h2>{{profile.username}}</h2>
        <h6>Email</h6> {{profile.accountEmail.address}} <br>
        <!--<h6>{{profile.status}} at</h6> {{profile.employer}} <br>
        <h6>Lives in</h6> {{profile.currentCity}}, {{profile.currentState}} <br>
        <h6>Hometown</h6> {{profile.homeTown}}, {{profile.homeState}}-->
    </div>
</div>

<div class="profile clearfix thumbnail" ng-show="isCreateMode">
    <form name="createProfile" class="form-horizontal" novalidate>
        <fieldset>
            <legend><h2>{{profile.username}}</h2></legend>
            <div class="control-group">
                <label class="control-label" for="username">Username</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.username"
                           class="input-xlarge"
                           id="username"
                           name="username"
                           value="" required>
                </div>
                <br>
                <label class="control-label" for="password">Password</label>
                <div class="controls">
                    <input type="text"
                           ng-model="profile.password"
                           class="input-xlarge"
                           id="password"
                           name="password"
                           value="" required>
                </div>
                <br>
                <label class="control-label" for="email">Email</label>
                <div class="controls">
                    <input type="email"
                           ng-model="profile.accountEmail.address"
                           class="input-xlarge"
                           id="email"
                           name="email"
                           value="" required>
                </div>
            </div>
        </fieldset>

        <button class="btn btn-success" ng-click="save(profile)" ng-disabled="createProfile.$invalid">
            <i class="icon-folder-open icon-white"></i> Save</button>
        <button class="btn btn-warning" ng-click="cancel()"><i class="icon-ban-circle icon-white"></i> Cancel</button>
    </form>
    <hr>

    <div pykl-upload="{dropTarget:'drop-target'}">
        <img src="http://placehold.it/300x300" id="drop-target" />
    </div>

    <!--<file-upload droptarget="drop-target">
        <img src="http://placehold.it/300x300" id="drop-target" />
    </file-upload>-->

    <div id="container">
        <div id="filelist"></div>
        <!--<br />
        <button class="btn btn-primary" id="pickfiles"><i class="icon-plus icon-white"></i> Add files</button>
        <button class="btn btn-success" id="uploadfiles"><i class="icon-upload icon-white"></i> Upload files</button>-->
        <h3>Drag and Drop a file to upload</h3>
    </div>

    <hr>

    <!--<pre>form = {{createProfile | json}}</pre>
    <tt>createProfile.firstName.$valid = {{createProfile.firstName.$valid}}</tt><br>
    <tt>createProfile.firstName.$error = {{createProfile.firstName.$error}}</tt><br>
    <tt>createProfile.email.$valid = {{createProfile.email.$valid}}</tt><br>
    <tt>createProfile.email.$error = {{createProfile.email.$error}}</tt><br>
    <tt>createProfile.$valid = {{createProfile.$valid}}</tt><br>-->
</div>